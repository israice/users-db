<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Login</title>
    <style>
        * { box-sizing: border-box; }
        body { font-family: Arial; max-width: 360px; margin: 80px auto; padding: 0 20px; }
        .tabs { display: flex; }
        .tab { flex: 1; padding: 12px; text-align: center; cursor: pointer; background: #e9e9e9; border: none; }
        .tab.active { background: #007bff; color: white; }
        .form { display: none; padding: 20px; background: #f5f5f5; }
        .form.active { display: block; }
        input { width: 100%; padding: 10px; margin-bottom: 12px; border: 1px solid #ddd; }
        button { width: 100%; padding: 12px; background: #007bff; color: white; border: none; cursor: pointer; }
        .error { color: #d33; margin-bottom: 12px; text-align: center; }
    </style>
</head>
<body>
    <div class="tabs">
        <div class="tab active" onclick="show('login')">Login</div>
        <div class="tab" onclick="show('register')">Register</div>
    </div>

    <div id="login" class="form active">
        {% if error %}<div class="error">{{ error }}</div>{% endif %}
        <form method="post" action="/login">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
            <input name="username" placeholder="Username" required>
            <input name="password" type="password" placeholder="Password" required>
            <button>Sign In</button>
        </form>
    </div>

    <div id="register" class="form">
        <form method="post" action="/register">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
            <input name="username" placeholder="Username" required>
            <input name="password" type="password" placeholder="Password" required>
            <button>Sign Up</button>
        </form>
    </div>

    <script>
        function show(id) {
            document.querySelectorAll('.form, .tab').forEach(e => e.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            event.target.classList.add('active');
        }
    </script>
</body>
</html>
